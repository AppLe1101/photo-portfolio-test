{"ast":null,"code":"import*as React from\"react\";import{useState}from\"react\";import{motion,AnimatePresence}from\"framer-motion\";import{wrap}from\"popmotion\";import{images}from\"./image-data\";import\"./styles/Gallery.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const variants={enter:direction=>{return{x:direction>0?1000:-1000,opacity:0};},center:{zIndex:1,x:0,opacity:1},exit:direction=>{return{zIndex:0,x:direction<0?1000:-1000,opacity:0};}};const swipeConfidenceThreshold=10000;const swipePower=(offset,velocity)=>{return Math.abs(offset)*velocity;};const Gallery=()=>{const[[page,direction],setPage]=useState([0,0]);const imageIndex=wrap(0,images.length,page);const paginate=newDirection=>{setPage([page+newDirection,newDirection]);};return/*#__PURE__*/_jsxs(\"div\",{className:\"gallery-container\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u0413\\u0430\\u043B\\u0435\\u0440\\u0435\\u044F\"}),/*#__PURE__*/_jsx(AnimatePresence,{initial:false,custom:direction,children:/*#__PURE__*/_jsx(motion.img,{src:images[imageIndex],custom:direction,variants:variants,initial:\"enter\",animate:\"center\",exit:\"exit\",transition:{x:{type:\"spring\",stiffness:300,damping:30},opacity:{duration:0.2}},drag:\"x\",dragConstraints:{left:0,right:0},dragElastic:1,onDragEnd:(e,_ref)=>{let{offset,velocity}=_ref;const swipe=swipePower(offset.x,velocity.x);if(swipe<-swipeConfidenceThreshold){paginate(1);}else if(swipe>swipeConfidenceThreshold){paginate(-1);}}},page)}),/*#__PURE__*/_jsx(\"div\",{className:\"next\",onClick:()=>paginate(1),children:\"‣\"}),/*#__PURE__*/_jsx(\"div\",{className:\"prev\",onClick:()=>paginate(-1),children:\"‣\"})]});};export default Gallery;","map":{"version":3,"names":["React","useState","motion","AnimatePresence","wrap","images","jsx","_jsx","jsxs","_jsxs","variants","enter","direction","x","opacity","center","zIndex","exit","swipeConfidenceThreshold","swipePower","offset","velocity","Math","abs","Gallery","page","setPage","imageIndex","length","paginate","newDirection","className","children","initial","custom","img","src","animate","transition","type","stiffness","damping","duration","drag","dragConstraints","left","right","dragElastic","onDragEnd","e","_ref","swipe","onClick"],"sources":["E:/photo-portfolio-test/src/components/Gallary.jsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { wrap } from \"popmotion\";\r\nimport { images } from \"./image-data\";\r\nimport \"./styles/Gallery.css\";\r\n\r\nconst variants = {\r\n  enter: (direction) => {\r\n    return {\r\n      x: direction > 0 ? 1000 : -1000,\r\n      opacity: 0,\r\n    };\r\n  },\r\n  center: {\r\n    zIndex: 1,\r\n    x: 0,\r\n    opacity: 1,\r\n  },\r\n  exit: (direction) => {\r\n    return {\r\n      zIndex: 0,\r\n      x: direction < 0 ? 1000 : -1000,\r\n      opacity: 0,\r\n    };\r\n  },\r\n};\r\n\r\nconst swipeConfidenceThreshold = 10000;\r\nconst swipePower = (offset, velocity) => {\r\n  return Math.abs(offset) * velocity;\r\n};\r\n\r\nconst Gallery = () => {\r\n  const [[page, direction], setPage] = useState([0, 0]);\r\n  const imageIndex = wrap(0, images.length, page);\r\n\r\n  const paginate = (newDirection) => {\r\n    setPage([page + newDirection, newDirection]);\r\n  };\r\n\r\n  return (\r\n    <div className=\"gallery-container\">\r\n      <p>Галерея</p>\r\n      <AnimatePresence initial={false} custom={direction}>\r\n        <motion.img\r\n          key={page}\r\n          src={images[imageIndex]}\r\n          custom={direction}\r\n          variants={variants}\r\n          initial=\"enter\"\r\n          animate=\"center\"\r\n          exit=\"exit\"\r\n          transition={{\r\n            x: { type: \"spring\", stiffness: 300, damping: 30 },\r\n            opacity: { duration: 0.2 },\r\n          }}\r\n          drag=\"x\"\r\n          dragConstraints={{ left: 0, right: 0 }}\r\n          dragElastic={1}\r\n          onDragEnd={(e, { offset, velocity }) => {\r\n            const swipe = swipePower(offset.x, velocity.x);\r\n            if (swipe < -swipeConfidenceThreshold) {\r\n              paginate(1);\r\n            } else if (swipe > swipeConfidenceThreshold) {\r\n              paginate(-1);\r\n            }\r\n          }}\r\n        />\r\n      </AnimatePresence>\r\n      <div className=\"next\" onClick={() => paginate(1)}>\r\n        {\"‣\"}\r\n      </div>\r\n      <div className=\"prev\" onClick={() => paginate(-1)}>\r\n        {\"‣\"}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Gallery;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}